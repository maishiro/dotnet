# WebSocket & WebAPI サンプル

## サーバーサイド（C# / ASP.NET Core）

このサーバーサイドアプリケーションは以下の機能を提供します：

1. **WebSocket接続**
   - エンドポイント: `ws://localhost:5110/connect/`
   - クライアントからの接続要求を処理
   - 接続時に一意のConnectIDを生成し、クライアントに返送

2. **WebAPI**
   - エンドポイント: `http://localhost:5110/api/Send`
   - POSTリクエストを受け付け、受信したデータをWebSocket接続しているクライアントにブロードキャスト

3. **メッセージハンドリング**
   - "CONNECT"メッセージに対して"CONNECT_ACK"を返信
   - "SETTING"メッセージに対して"SETTING_ACK"を返信
   - 受信したデータを"NOTIFY"メッセージとしてクライアントに送信

4. **Windowsサービス**
   - アプリケーションをWindowsサービスとして実行可能

## クライアントサイド（HTML / JavaScript）

このクライアントサイドアプリケーションは以下の機能を提供します：

1. **WebSocket接続**
   - サーバーとのWebSocket接続を確立
   - 接続時にユーザー名とパスワードを送信

2. **メッセージ送信**
   - WebAPIエンドポイントにPOSTリクエストを送信
   - 送信したメッセージをサーバーからエコーバックとして受信

3. **メッセージ表示**
   - サーバーから受信したメッセージを画面に表示

4. **エラーハンドリング**
   - 通信エラーをコンソールに表示

## 使用方法

1. サーバーサイドアプリケーションを起動
2. クライアントサイドのHTMLファイルをブラウザで開く
3. ユーザー名とパスワードを入力して接続
4. メッセージを入力して送信
5. 送信したメッセージがエコーバックされ、画面に表示される

このサンプルアプリケーションは、WebSocketとWebAPIを組み合わせた双方向通信の基本的な実装を示しています。実際の使用には、セキュリティ強化やエラーハンドリングの改善が必要です。
